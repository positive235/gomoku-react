(this.webpackJsonpgomoku=this.webpackJsonpgomoku||[]).push([[0],{13:function(t,e,s){},14:function(t,e,s){"use strict";s.r(e);var i=s(0),o=s.n(i),a=s(3),r=s.n(a),n=s(4),h=s(5),c=s(1),l=s(7),m=s(6),S=function(t){Object(l.a)(s,t);var e=Object(m.a)(s);function s(t){var i;return Object(n.a)(this,s),(i=e.call(this,t)).stoneRadius=25,i.stoneDiameter=2*i.stoneRadius,i.init=i.init.bind(Object(c.a)(i)),i.addGo=i.addGo.bind(Object(c.a)(i)),i.history=[],i.state={blackStone:!0,gameOver:!1,gameState:"Next: Black Stone *"},i}return Object(h.a)(s,[{key:"componentDidMount",value:function(){for(var t=document.getElementById("goBoard"),e=t.getContext("2d"),s=0;s<15;s++)e.moveTo(0,50*s),e.lineTo(700,50*s),e.moveTo(50*s,0),e.lineTo(50*s,700);e.stroke(),this.rect={},this.goBoardX=t.offsetLeft,this.goBoardY=t.offsetTop,this.init()}},{key:"init",value:function(){document.getElementById("goBoard").addEventListener("mousedown",this.addGo,!1)}},{key:"gameScore",value:function(t){if(169!==this.history.length){if(this.sortStone=[],this.history.length>=5){for(var e=0;e<this.history.length;e++)this.history[e].isBlackStone===t&&this.sortStone.push(this.history[e]);this.sortStone.sort((function(t,e){return t.x>e.x?1:t.x<e.x?-1:0}));for(var s=0;s<this.sortStone.length;s++)for(var i=this.sortStone[s].x,o=this.sortStone[s].y,a=1,r=1,n=1,h=s+1;h<this.sortStone.length;h++)this.sortStone[h].y===o+this.stoneDiameter*a&&this.sortStone[h].x===i+this.stoneDiameter*a?a+=1:this.sortStone[h].y===o-this.stoneDiameter*r&&this.sortStone[h].x===i+this.stoneDiameter*r?r+=1:this.sortStone[h].y===o&&this.sortStone[h].x===i+this.stoneDiameter*n&&(n+=1),5!==a&&5!==r&&5!==n||(!0===t?this.setState({gameOver:!0,gameState:"Black Stone Win!"}):this.setState({gameOver:!0,gameState:"White Stone Win!"}));if(!1===this.state.gameOver){this.sortStone.sort((function(t,e){return t.y>e.y?1:t.y<e.y?-1:0}));for(var c=0;c<this.sortStone.length;c++)for(var l=this.sortStone[c].x,m=this.sortStone[c].y,S=1,g=c+1;g<this.sortStone.length;g++)this.sortStone[g].x===l&&this.sortStone[g].y===m+this.stoneDiameter*S&&5===(S+=1)&&(!0===t?this.setState({gameOver:!0,gameState:"Black Stone Win!"}):this.setState({gameOver:!0,gameState:"White Stone Win!"}))}}}else this.setState({gameOver:!0,gameState:"Draw!"})}},{key:"addGo",value:function(t){if(this.rect.x=t.pageX-this.goBoardX-1,this.rect.y=t.pageY-this.goBoardY-2,this.rect.x%this.stoneDiameter>this.stoneRadius?this.rect.x=this.rect.x-this.rect.x%this.stoneDiameter+this.stoneDiameter:this.rect.x-=this.rect.x%this.stoneDiameter,this.rect.y%this.stoneDiameter>this.stoneRadius?this.rect.y=this.rect.y-this.rect.y%this.stoneDiameter+this.stoneDiameter:this.rect.y-=this.rect.y%this.stoneDiameter,!1===this.state.gameOver&&this.rect.x>0&&this.rect.x<700&&this.rect.y>0&&this.rect.y<700){this.placed=!1;for(var e=0;e<this.history.length;e++)this.history[e].x===this.rect.x&&this.history[e].y===this.rect.y&&(this.placed=!0);if(!0===this.placed)console.log("don't overwrite");else{var s=document.getElementById("goBoard").getContext("2d");this.history.push({x:this.rect.x,y:this.rect.y,isBlackStone:this.state.blackStone}),s.beginPath(),s.arc(this.rect.x,this.rect.y,this.stoneRadius,0,2*Math.PI),!0===this.state.blackStone?(s.fillStyle="black",s.fill(),s.stroke(),this.setState({blackStone:!1,gameState:"Next: "+(this.state.blackStone?"White Stone":"Black Stone *")})):(s.fillStyle="white",s.fill(),s.stroke(),this.setState({blackStone:!0,gameState:"Next: "+(this.state.blackStone?"White Stone":"Black Stone *")})),this.gameScore(!0),!1===this.state.gameOver&&this.gameScore(!1)}}}},{key:"render",value:function(){return o.a.createElement("div",{className:"game"},o.a.createElement("div",{className:"game-board"},o.a.createElement("div",{className:"status-txt"},this.state.gameState),o.a.createElement("canvas",{id:"goBoard",width:"700",height:"700"})))}}]),s}(o.a.Component);s(13);r.a.render(o.a.createElement(S,null),document.getElementById("root"))},8:function(t,e,s){t.exports=s(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.a98a5b0f.chunk.js.map